// Script to create a simple menubar icon
// Run with: node build/create-icon.js

const fs = require('fs');
const path = require('path');

// Simple 16x16 PNG with a circle (timer icon)
// This is a minimal valid PNG file with transparency
const iconData = Buffer.from([
  0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a, // PNG signature
  0x00, 0x00, 0x00, 0x0d, 0x49, 0x48, 0x44, 0x52, // IHDR chunk
  0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x10, // 16x16
  0x08, 0x06, 0x00, 0x00, 0x00, 0x1f, 0xf3, 0xff, 0x61,
  0x00, 0x00, 0x00, 0x01, 0x73, 0x52, 0x47, 0x42, // sRGB
  0x00, 0xae, 0xce, 0x1c, 0xe9,
  0x00, 0x00, 0x00, 0x6a, 0x49, 0x44, 0x41, 0x54, // IDAT
  0x38, 0x8d, 0xed, 0xd2, 0xb1, 0x0d, 0x00, 0x20,
  0x08, 0x00, 0xb1, 0xee, 0xbf, 0x72, 0x5d, 0xa0,
  0x30, 0x18, 0x2c, 0x74, 0x25, 0x55, 0x1f, 0x08,
  0x00, 0x88, 0x48, 0xa2, 0x0c, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0xc0, 0x07, 0xc2,
  0xe2, 0x00, 0x21, 0xd5, 0xce, 0x93, 0xf1,
  0x00, 0x00, 0x00, 0x00, 0x49, 0x45, 0x4e, 0x44, // IEND
  0xae, 0x42, 0x60, 0x82
]);

// For menubar template image, we need a simple white icon
// Let's create a more reliable approach using a data URL approach

console.log('Creating menubar icon...');
console.log('Note: For production, replace with a proper 16x16 or 22x22 PNG icon');
console.log('The icon should be named iconTemplate.png for macOS template behavior');

// Create a placeholder file
fs.writeFileSync(path.join(__dirname, 'iconTemplate.png'), iconData);
console.log('Created: build/iconTemplate.png');
